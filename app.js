var dataObject = [
    { "id": "272822514",
        "firstName": "Billy",
        "lastName": "Bob",
        "gender": "male",
        "dob": "1/18/1949",
        "height": 71,
        "weight": 175,
        "eyeColor": "brown",
        "occupation": "programmer",
        "parents": [],
        "currentSpouse": "401222887",
    },
    { "id": "401222887",
        "firstName": "Uma",
        "lastName": "Bob",
        "gender": "female",
        "dob": "4/1/1947",
        "height": 65,
        "weight": 162,
        "eyeColor": "brown",
        "occupation": "assistant",
        "parents": [],
        "currentSpouse": "272822514",
    },
    { "id": "409574486",
        "firstName": "Michael",
        "lastName": "Walkens",
        "gender": "male",
        "dob": "5/9/1951",
        "height": 76,
        "weight": 250,
        "eyeColor": "brown",
        "occupation": "landscaper",
        "parents": [],
        "currentSpouse": 260451248
    },
    { "id" : "260451248",
        "firstName": "Jon",
        "lastName": "Walkens",
        "gender": "male",
        "dob": "9/6/1945",
        "height": 62,
        "weight": 115,
        "eyeColor": "brown",
        "occupation": "assistant",
        "parents": [],
        "currentSpouse": 409574486
    },
    {
        "id": "629807187",
        "firstName": "Jack",
        "lastName": "Pafoy",
        "gender": "male",
        "dob": "3/16/1938",
        "height": 70,
        "weight": 207,
        "eyeColor": "black",
        "occupation": "nurse",
        "parents": [],
        "currentSpouse": 464142841
    },
    {
        "id": "464142841",
        "firstName": "Jen",
        "lastName": "Pafoy",
        "gender": "female",
        "dob": "4/10/1940",
        "height": 72,
        "weight": 256,
        "eyeColor": "black",
        "occupation": "student",
        "parents": [],
        "currentSpouse": 629807187
    },
    {
        "id": "982411429",
        "firstName": "Mister",
        "lastName": "Potatoo",
        "gender": "male",
        "dob": "12/18/1952",
        "height": 66,
        "weight": 170,
        "eyeColor": "hazel",
        "occupation": "architect",
        "parents": [],
        "currentSpouse": 595767575
    },
    {
        "id":"595767575",
        "firstName": "Missuz",
        "lastName": "Potatoo",
        "gender": "female",
        "dob": "10/28/1948",
        "height": 59,
        "weight": 137,
        "eyeColor": "blue",
        "occupation": "architect",
        "parents": [],
        "currentSpouse": 982411429
    },
    {
        "id" : "693243224",
        "firstName": "Joy",
        "lastName": "Madden",
        "gender": "female",
        "dob": "4/20/1939",
        "height": 69,
        "weight": 199,
        "eyeColor": "hazel",
        "occupation": "doctor",
        "parents": [],
        "currentSpouse": 693243224
    },
    {
        "id":"888201200",
        "firstName": "Mader",
        "lastName": "Madden",
        "gender": "male",
        "dob": "5/6/1937",
        "height": 76,
        "weight": 205,
        "eyeColor": "black",
        "occupation": "landscaper",
        "parents": [],
        "currentSpouse": 888201200
    },
    {
        "id": "878013758",
        "firstName": "Jill",
        "lastName": "Pafoy",
        "gender": "Bob",
        "dob": "2/8/1972",
        "height": 74,
        "weight": 118,
        "eyeColor": "brown",
        "occupation": "programmer",
        "parents": [401222887,401222887],
        "currentSpouse": 294874671
    },
    {
        "id": "951747547",
        "firstName": "Ralph",
        "lastName": "Bob",
        "gender": "male",
        "dob": "12/23/1969",
        "height": 66,
        "weight": 179,
        "eyeColor": "blue",
        "occupation": "nurse",
        "parents": [401222887,401222887],
        "currentSpouse": 159819275
    },
    {
        "id": "159819275",
        "firstName": "Jasmine",
        "lastName": "Bob",
        "gender": "female",
        "dob": "12/18/1969",
        "height": 58,
        "weight": 156,
        "eyeColor": "blue",
        "occupation": "assistant",
        "parents": [409574486,260451248],
        "currentSpouse": 951747547
    },
    {
        "id": "348457184",
        "firstName": "Annie",
        "lastName": "Pafoy",
        "gender": "female",
        "dob": "11/4/1970",
        "height": 62,
        "weight": 235,
        "eyeColor": "hazel",
        "occupation": "landscaper",
        "parents": [629807187,464142841],
        "currentSpouse": null
    },
    {
        "id" : "294874671",
        "firstName": "Dave",
        "lastName": "Pafoy",
        "gender": "male",
        "dob": "8/5/1967",
        "height": 61,
        "weight": 112,
        "eyeColor": "green",
        "occupation": "doctor",
        "parents": [629807187,464142841],
        "currentSpouse": 878013758
    },
    {
        "id": "931247228",
        "firstName": "Amii",
        "lastName": "Pafoy",
        "gender": "female",
        "dob": "3/13/1963",
        "height": 74,
        "weight": 184,
        "eyeColor": "brown",
        "occupation": "landscaper",
        "parents": [629807187,464142841],
        "currentSpouse": null
    },
    { "id": "822843554",
        "firstName": "Regina",
        "lastName": "Madden",
        "gender": "female",
        "dob": "7/26/1959",
        "height": 71,
        "weight": 249,
        "eyeColor": "brown",
        "occupation": "nurse",
        "parents": [693243224, 888201200],
        "currentSpouse": null
    },
    {
        "id": "819168108",
        "firstName": "Hana",
        "lastName": "Madden",
        "gender": "female",
        "dob": "10/7/1953",
        "height": 70,
        "weight": 187,
        "eyeColor": "brown",
        "occupation": "politician",
        "parents": [693243224, 888201200],
        "currentSpouse": null
    },
    {
        "id":"969837479",
        "firstName": "Eloise",
        "lastName": "Madden",
        "gender": "female",
        "dob": "12/11/1961",
        "height": 63,
        "weight": 241,
        "eyeColor": "brown",
        "occupation": "assistant",
        "parents": [693243224, 888201200],
        "currentSpouse": null
    },
    {
        "id": "313207561",
        "firstName": "Mattias",
        "lastName": "Madden",
        "gender": "male",
        "dob": "2/19/1966",
        "height": 70,
        "weight": 110,
        "eyeColor": "blue",
        "occupation": "assistant",
        "parents": [693243224, 888201200],
        "currentSpouse": 313997561
    },
    {
        "id": "313997561",
        "firstName": "Ellen",
        "lastName": "Madden",
        "gender": "female",
        "dob": "2/19/1970",
        "height": 67,
        "weight": 100,
        "eyeColor": "blue",
        "occupation": "doctor",
        "parents": [],
        "currentSpouse": 313207561
    },
    {
        "id": "313998000",
        "firstName": "Joey",
        "lastName": "Madden",
        "gender": "female",
        "dob": "2/02/1987",
        "height": 67,
        "weight": 100,
        "eyeColor": "blue",
        "occupation": "doctor",
        "parents": [313207561,313997561],
        "currentSpouse": null,
    }
];


function initSearch(){
    var answer = "";
    var firstName = "";
    var lastName = "";
    var personalId = "";
    var lookingFor = "";
    var characteristic = "";
    var characteristics = [];
}

function getFirstNameParam(){
    return document.getElementById("firstName").value;
}

function getLastNameParam(){
    return document.getElementById("lastName").value;
}

function getInfo(firstName,lastName){
    for (var i = 0; i < dataObject.length; i++) {
        var user = dataObject[i];
        if (user.firstName.toLowerCase() === firstName.toLowerCase() && user.lastName.toLowerCase() === lastName.toLowerCase()) {
            console.log(user);
            return user;
        }
    }
    console.log('User not found');
    return null;
}

function getDescendants(personOfInterest){
    var descendants = [];
    var id = personOfInterest.id;
    for (var i = 0; i < dataObject.length; i++) {
        var user = dataObject[i];
        if (user.parents.indexOf(parseInt(id)) > -1) {
            descendants.push(user);
            var userIdToCheck = user.id;
            //TODO then retrieve THAT user's descendants
            var childDescendants = getDescendants(user);
            //TODO concat childDescendants into descendants
            descendants = descendants.concat(childDescendants);
        }
    }
    return descendants;
}

function displayDescendants(){
    var allMyDesc = getDescendants(getInfo(getFirstNameParam(),getLastNameParam()));
    console.log(allMyDesc);
    // display them here
    // make sure it runs sync
}

function getParents(personOfInterest){
    var motherAndFather = [];
    console.log(personOfInterest);
    var parentIds = personOfInterest.parents;
    console.log(parentIds);
    if(parentIds.length == 0){
        return [];
    }
    var filterCallback = function(user){
        var id = parseInt(user.id);
        //indexOf grabs the key of the value or the position value
        return parentIds.indexOf(id) > -1;
    };
    return dataObject.filter(filterCallback);
}

function getSpouse(personOfInterest){
    if(personOfInterest.currentSpouse){
        for (var i = 0; i < dataObject.length; i++) {
            if (personOfInterest.currentSpouse == dataObject[i].id){
                return dataObject[i];
            }
        }
    }
}

function getSiblings(personOfInterest){
    var siblings = [];
    var filterSiblings = function(user) {
        for (var i = 0; i < user.parents.length; i++) {
            var id = parentIds[i];
            if (user.parents.indexOf(id) > -1) {
            siblings.push(parentIds[i]);
            return true;
            }
        }
            return false;
    };
            return dataObject.filter(filterSiblings);
}

function getChildren(personOfInterest){
    var children = [];
    for(var i = 0; i < dataObject.length; i++){
        var idToNumber = parseInt(personOfInterest.id);
        var firstParent = dataObject[i].parents[0];
        var lastParent = dataObject[i].parents[1];
        if(idToNumber === firstParent || idToNumber === lastParent){
        children.push(dataObject[i]); 
        }
    }
    
        return children;
}

// function getFamilyInfo() {
//     var allMyFam = getSpouse(getInfo(getFirstNameParam(),getLastNameParam()));
//     console.log(allMyFam);
// }

// function getFamilyInfo() {
//     var allMyFam = getParents(getInfo(getFirstNameParam(),getLastNameParam()));
//     console.log(allMyFam);
// }

function getFamilyInfo() {
    var allMyFam = getSiblings(getInfo(getFirstNameParam(),getLastNameParam()));
    console.log(allMyFam);
}

// function getFamilyInfo() {
//     var allMyFam = getChildren(getInfo(getFirstNameParam(),getLastNameParam()));
//     console.log(allMyFam);
// }


function displayFamilyInfo() {

}
// function getOldestKin(person){
//     var kin = [];
//     var spouse = getSpouse(parent.id);
//     kin.push(spouse);
//     var children =getChildren(person.id);
//     children.forEach(function (child) {
//         kin.push(child);
//     });
//     var parents =getParents(parents.id);
//     parents.forEach(function (parent) {
//         kin.push(parent);
//     });

//     var oldest= kin[0];
//     for(var i = 0; i < kin.length; i++) {
//         var person = kin[i];
//         var oldestBirthday = new Date(oldest.dob);
//         var birthday = new Date(person.dob);
//         if (birthday < oldestBirthday) {
//             oldest = person;
//         }
//     }

// }
//     return oldest;
// }

//input is what we need to run the function
// function filterCharacteristics(input){
    //you split their input by it finding the comma between what they type in
    //whenever you use split it returns as an array
    // var termsArray = input.split(",");
    //terms is an empty object
    // var terms = {};
    //we are looping through the user input that was split into an array
    // for (var i = 0; i < termsArray.length; i++) {
        //term holds the position of whatever is iterating through the for loop
        // var term = termsArray[i];
        //this splits the current iteration postion by they equals by key = value
        //and returns and array called splitTerm
        // var splitTerm = term.split('=');
        //this returns they first position/key of split term array
        // var characteristic = splitTerm[0];
        //this returns the second position/value of the split term array
        // var characteristicValue = splitTerm[1];
        //this is the objects key equals the value
        // terms[characteristic] = characteristicValue;
    // }

    // var filterCallback = function (user) {
    //     characteristic is they key and terms is the object
    //     for (var characteristic in terms) {
    //         if object has key and what the user passes in as a 
    //         key does not match with the object key it will return false
    //         if (terms.hasOwnProperty(characteristic)) {
    //             if (user[characteristic] != terms[characteristic]) {
    //                 return false;
    //             }
    //         }
    //     }
        //if is able to loop through the whole object return true
    //     return true;
    // };
    //then the object filters and only returns what is found in the function
    //and stored in the variable users and returns that
    // var users = dataObject.filter(filterCallback);

    // return users;
    
// function displayResults(resultsArr){
//     var results = " ";
//     for(var i =0; i < resultsArr; i++){
//     document.getElementById("displayArea").innerHTML = 
//     }
// }


initSearch();


//     var yourBirth = prompt("Do you know their date of birth?");
//     var yourHeight = prompt("Do you know their height?");
//     var yourWeight = prompt("Do you know their weight?");
//     var yourEyeColor = prompt("Do you know their eye color?");
//     var yourOccupation = prompt("Do you know their occupation?");
//     var yourParents = prompt("Do you know their parents?");




//to search traits use INPUT document.getElementbyId("eyeColor").value 
//save into a variable 
//recursion is when a function calls itself
//Next of kin is returning one person(oldest)
//function with an else/if statement- starting with children. var for oldest person 
//and var for date (getFullYear in JS)
//arrays are positions and objects are keys
//function to validate traits- if it returns a true value for that object it gets passed into a new array
//that's a filter for traits 










